<!DOCTYPE html>
<html>
<head>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBFOT-oGfOW3rz65CtR1CBkedN8orQmsDo&callback=initMap">
</script>
</head>
<body>
  <div id="map" style="width: 100%; height: 800px; background: grey" />
  <script  type="text/javascript" charset="UTF-8" >
var data = ${data};
var center = {lat:${lat}, lng:${lon}};
var markers = [];
var map = null;

function initMap() {
    map = new google.maps.Map( document.getElementById('map'), {zoom: 9, center: center});
    var markers = [];
    for (var i = 0; i<data.length; i++) {
        var p = {lat:data[i].lat, lng:data[i].lon};
        var marker = new google.maps.Marker({position: p, map: map});
        markers.push( marker );
    }
}
  </script>
</body>
</html>
